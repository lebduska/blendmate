[
  {
    "name": "node_selection_changed",
    "description": "Fires when the active selection in a node editor changes, capturing the active node and current selection list.",
    "origin": "bpy.app.handlers.depsgraph_update_post (listening for context selection changes in node trees)",
    "payload_schema_example": {
      "tree_name": "Geometry Nodes",
      "tree_id": "GeometryNodeTree.001",
      "selected_nodes": [
        {"name": "Group Input", "type": "NodeGroupInput", "id": "Node.001"},
        {"name": "Point Translate", "type": "GeometryNodeSetPosition", "id": "Node.002"}
      ],
      "active_node": {"name": "Point Translate", "type": "GeometryNodeSetPosition", "id": "Node.002"},
      "timestamp": "2024-07-16T12:00:00Z"
    }
  },
  {
    "name": "node_created",
    "description": "Raised when a new node is added to a node tree (e.g., Geometry Nodes, Shader Nodes).",
    "origin": "bpy.app.handlers.depsgraph_update_post (monitoring new datablocks of type bpy.types.Node)",
    "payload_schema_example": {
      "tree_name": "Geometry Nodes",
      "tree_id": "GeometryNodeTree.001",
      "node": {
        "name": "Mix", "type": "ShaderNodeMix", "id": "Node.010", "label": "Layer Mix"
      },
      "created_in": "Object.Data.GeometryNodes",
      "timestamp": "2024-07-16T12:00:01Z"
    }
  },
  {
    "name": "node_parameter_changed",
    "description": "Signals that a node property (e.g., input default value, boolean toggle) changed on the active node.",
    "origin": "bpy.app.handlers.depsgraph_update_post or bpy.msgbus subscriptions on RNA property updates",
    "payload_schema_example": {
      "tree_name": "Geometry Nodes",
      "tree_id": "GeometryNodeTree.001",
      "node": {"name": "Attribute Statistic", "type": "GeometryNodeAttributeStatistic", "id": "Node.005"},
      "property": "domain",
      "old_value": "POINT",
      "new_value": "EDGE",
      "timestamp": "2024-07-16T12:00:05Z"
    }
  },
  {
    "name": "frame_changed",
    "description": "Emitted after the scene frame changes to synchronize time-based updates.",
    "origin": "bpy.app.handlers.frame_change_post",
    "payload_schema_example": {
      "scene": "Scene",
      "frame_current": 42,
      "subframe": 0.0,
      "is_playback": true,
      "timestamp": "2024-07-16T12:00:10Z"
    }
  },
  {
    "name": "render_completed",
    "description": "Triggered when a render job finishes, providing the output path and render statistics.",
    "origin": "bpy.app.handlers.render_complete",
    "payload_schema_example": {
      "scene": "Scene",
      "filepath": "/tmp/render_0042.png",
      "frame": 42,
      "engine": "CYCLES",
      "duration_ms": 1530,
      "timestamp": "2024-07-16T12:01:00Z"
    }
  },
  {
    "name": "file_saved",
    "description": "Fires after a .blend file is saved so external tools can sync assets or metadata.",
    "origin": "bpy.app.handlers.save_post",
    "payload_schema_example": {
      "filepath": "/home/user/projects/scene.blend",
      "blender_version": "4.5.4",
      "incremental": false,
      "timestamp": "2024-07-16T12:01:30Z"
    }
  }
]
